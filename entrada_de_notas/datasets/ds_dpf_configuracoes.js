function createDataset(fields, constraints, sortFields) { log.info("Digte Public Form - @@@ Inicio Dataset ds_dpf_configuracoes.js"); var dataset = DatasetBuilder.newDataset(); var codigoFormularioPublico = ""; if (constraints != null) { for (var i = 0; i < constraints.length; i++) { if (constraints[i].fieldName == "codigoFormularioPublico" && constraints[i].initialValue != "") { codigoFormularioPublico = constraints[i].initialValue; } } } var constrForm = []; if (codigoFormularioPublico != "") { var cCodForm = DatasetFactory.createConstraint("codigoFormularioPublico", "%" + codigoFormularioPublico + "%", "%" + codigoFormularioPublico + "%", ConstraintType.MUST); cCodForm.setLikeSearch(true); constrForm.push(cCodForm); } var dsConfig = DatasetFactory.getDataset("dpf_configuracoes", ["codigoFormularioPublico"], constrForm, null); log.info("Digte Public Form - @@@ Fim Dataset ds_dpf_configuracoes.js"); return dsConfig; }